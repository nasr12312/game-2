<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù† Ø³ÙŠØ±Ø¨Ø­ Ø§Ù„Ù…Ù„ÙŠÙˆÙ† - Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap');
        @import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css');
        
        * {
            font-family: 'Cairo', sans-serif;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
        }
        
        .gradient-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="50" cy="10" r="0.5" fill="rgba(255,255,255,0.05)"/></pattern></defs><rect width="100" height="100" fill="url(%23grain)"/></svg>');
            pointer-events: none;
        }
        
        .gold-gradient {
            background: linear-gradient(135deg, #ffd700 0%, #ffb347 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .slide-in {
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .money-ladder {
            background: linear-gradient(to bottom, #1a1a2e, #16213e);
            border: 2px solid #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.2);
        }
        
        .question-card {
            background: linear-gradient(135deg, #0f3460 0%, #0e4b99 100%);
            border: 3px solid #ffd700;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .question-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255, 215, 0, 0.1), transparent);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        
        .option-btn {
            transition: all 0.3s ease;
            background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 100%);
            position: relative;
            overflow: hidden;
        }
        
        .option-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .option-btn:hover::before {
            left: 100%;
        }
        
        .option-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(59, 130, 246, 0.4);
        }
        
        .correct-answer {
            background: linear-gradient(135deg, #059669 0%, #10b981 100%) !important;
            animation: correctPulse 1s ease-in-out;
        }
        
        .wrong-answer {
            background: linear-gradient(135deg, #dc2626 0%, #ef4444 100%) !important;
            animation: shake 0.5s ease-in-out;
        }
        
        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        .team-card {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            border: 2px solid #fbbf24;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .team-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }
        
        .team-card:hover::before {
            transform: translateX(100%);
        }
        
        .team-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(59, 130, 246, 0.3);
        }
        
        .active-team {
            border-color: #ffd700 !important;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5) !important;
            animation: activeGlow 2s infinite alternate;
        }
        
        @keyframes activeGlow {
            from { box-shadow: 0 0 20px rgba(255, 215, 0, 0.5); }
            to { box-shadow: 0 0 30px rgba(255, 215, 0, 0.8); }
        }
        
        .glass-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .connection-status {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .connection-online {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }
        
        .connection-offline {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
        }
        
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .topic-selector {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            border: 2px solid #a855f7;
            transition: all 0.3s ease;
        }
        
        .topic-selector:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3);
        }
        
        .difficulty-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            margin: 2px;
        }
        
        .difficulty-easy { background: #10b981; color: white; }
        .difficulty-medium { background: #f59e0b; color: white; }
        .difficulty-hard { background: #ef4444; color: white; }
        
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #10b981, #059669);
            transition: width 0.3s ease;
        }
        
        .floating-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            overflow: hidden;
            pointer-events: none;
        }
        
        .particle {
            position: absolute;
            background: rgba(255, 215, 0, 0.6);
            border-radius: 50%;
            animation: float 6s infinite linear;
        }
        
        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        .notification {
            position: fixed;
            top: 80px;
            right: 20px;
            z-index: 1001;
            padding: 16px 20px;
            border-radius: 12px;
            color: white;
            font-weight: bold;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification-success {
            background: linear-gradient(135deg, #10b981, #059669);
        }
        
        .notification-error {
            background: linear-gradient(135deg, #ef4444, #dc2626);
        }
        
        .notification-info {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
        }
        
        .celebration-effect {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        }
        
        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ffd700;
            animation: confetti-fall 3s linear infinite;
        }
        
        @keyframes confetti-fall {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }
        
        .wrong-effect {
            animation: wrongShake 0.6s ease-in-out;
        }
        
        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
        }
        
        .timer-warning {
            animation: timerPulse 1s infinite;
        }
        
        @keyframes timerPulse {
            0%, 100% { 
                background: linear-gradient(135deg, #dc2626, #ef4444);
                transform: scale(1);
            }
            50% { 
                background: linear-gradient(135deg, #ef4444, #f87171);
                transform: scale(1.1);
            }
        }
    </style>
</head>
<body class="gradient-bg min-h-screen text-white">
    <!-- Ù…Ø¤Ø´Ø± Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„ -->
    <div id="connectionStatus" class="connection-status connection-online">
        <i class="fas fa-wifi"></i> Ù…ØªØµÙ„
    </div>
    
    <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
    <div id="notificationArea"></div>
    
    <!-- Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© -->
    <div class="floating-particles" id="particles"></div>
    <!-- Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div id="homeScreen" class="min-h-screen flex items-center justify-center p-4">
        <div class="text-center max-w-4xl mx-auto">
            <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø·ÙˆØ± -->
            <div class="fixed top-4 left-4 z-50">
                <button onclick="toggleDeveloperMenu()" class="bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 p-3 rounded-full text-white shadow-lg transition-all duration-300 transform hover:scale-110">
                    <i class="fas fa-info-circle text-xl"></i>
                </button>
            </div>

            <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© Ù„Ù„Ù…Ø·ÙˆØ± -->
            <div id="developerMenu" class="fixed top-20 left-4 z-50 bg-white/10 backdrop-blur-lg rounded-xl p-6 shadow-2xl border border-white/20 hidden transform transition-all duration-300 scale-95 opacity-0" style="display: none;">
                <div class="text-right">
                    <button onclick="toggleDeveloperMenu()" class="text-white/70 hover:text-white text-xl mb-4">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-3">
                        <i class="fas fa-user-tie text-2xl text-white"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-1">Ø£. Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù† Ù†ØµØ± Ø§Ù„Ù„Ù‡</h3>
                    <p class="text-sm text-blue-200">Ù…Ø·ÙˆØ± Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</p>
                </div>

                <div class="space-y-3">
                    <a href="https://www.instagram.com/nasrallah_2002/" target="_blank" class="flex items-center p-3 bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 rounded-lg transition-all duration-300 transform hover:scale-105 text-white">
                        <i class="fab fa-instagram text-xl ml-3"></i>
                        <div>
                            <div class="font-bold">Ø¥Ù†Ø³ØªØºØ±Ø§Ù…</div>
                            <div class="text-xs opacity-90">@nasrallah_2002</div>
                        </div>
                    </a>
                    
                    <a href="https://www.youtube.com/@tnasrallah" target="_blank" class="flex items-center p-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 rounded-lg transition-all duration-300 transform hover:scale-105 text-white">
                        <i class="fab fa-youtube text-xl ml-3"></i>
                        <div>
                            <div class="font-bold">ÙŠÙˆØªÙŠÙˆØ¨</div>
                            <div class="text-xs opacity-90">@tnasrallah</div>
                        </div>
                    </a>
                    
                    <button onclick="showGameInfo()" class="w-full flex items-center p-3 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 rounded-lg transition-all duration-300 transform hover:scale-105 text-white">
                        <i class="fas fa-question-circle text-xl ml-3"></i>
                        <div>
                            <div class="font-bold">Ø­ÙˆÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©</div>
                            <div class="text-xs opacity-90">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙˆØªØ¹Ù„ÙŠÙ…Ø§Øª</div>
                        </div>
                    </button>
                </div>
            </div>

            <!-- Ù†Ø§ÙØ°Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© -->
            <div id="gameInfoModal" class="fixed inset-0 bg-black/50 backdrop-blur-sm z-60 hidden flex items-center justify-center p-4">
                <div class="bg-white/10 backdrop-blur-lg rounded-xl p-8 max-w-2xl w-full max-h-[80vh] overflow-y-auto border border-white/20">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-3xl font-bold text-white">
                            <i class="fas fa-gamepad text-yellow-400 ml-2"></i>
                            Ø­ÙˆÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©
                        </h2>
                        <button onclick="closeGameInfo()" class="text-white/70 hover:text-white text-2xl">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="space-y-6 text-white">
                        <div>
                            <h3 class="text-xl font-bold mb-3 text-yellow-300">
                                <i class="fas fa-star ml-2"></i>
                                Ù…Ø§ Ù‡ÙŠ Ù„Ø¹Ø¨Ø© "Ù…Ù† Ø³ÙŠØ±Ø¨Ø­ Ø§Ù„Ù…Ù„ÙŠÙˆÙ† Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©"ØŸ
                            </h3>
                            <p class="text-gray-200 leading-relaxed">
                                Ù„Ø¹Ø¨Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© ØªÙØ§Ø¹Ù„ÙŠØ© Ù…Ø³ØªÙˆØ­Ø§Ø© Ù…Ù† Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø´Ù‡ÙŠØ± "Ù…Ù† Ø³ÙŠØ±Ø¨Ø­ Ø§Ù„Ù…Ù„ÙŠÙˆÙ†" Ù…ØµÙ…Ù…Ø© Ø®ØµÙŠØµØ§Ù‹ Ù„Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©. ØªÙ‡Ø¯Ù Ø¥Ù„Ù‰ Ø¬Ø¹Ù„ Ø§Ù„ØªØ¹Ù„Ù… Ø£ÙƒØ«Ø± Ù…ØªØ¹Ø© ÙˆØªØ´ÙˆÙŠÙ‚Ø§Ù‹ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ù…Ù†Ø§ÙØ³Ø© Ø§Ù„ÙˆØ¯ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ø·Ù„Ø§Ø¨.
                            </p>
                        </div>

                        <div>
                            <h3 class="text-xl font-bold mb-3 text-green-300">
                                <i class="fas fa-cogs ml-2"></i>
                                Ø§Ù„Ù…ÙŠØ²Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:
                            </h3>
                            <ul class="space-y-2 text-gray-200">
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-400 ml-2"></i>
                                    Ø¥Ù†Ø´Ø§Ø¡ Ø£Ø³Ø¦Ù„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-400 ml-2"></i>
                                    Ø¥Ø¶Ø§ÙØ© Ø£Ø³Ø¦Ù„Ø© ÙŠØ¯ÙˆÙŠØ§Ù‹ Ù…Ø¹ Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-400 ml-2"></i>
                                    Ø¯Ø¹Ù… ÙØ±Ù‚ Ù…ØªØ¹Ø¯Ø¯Ø© (2-4 ÙØ±Ù‚)
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-400 ml-2"></i>
                                    Ù…ÙˆØ§Ø¶ÙŠØ¹ Ù…ØªÙ†ÙˆØ¹Ø© ÙˆÙ…Ø³ØªÙˆÙŠØ§Øª ØµØ¹ÙˆØ¨Ø© Ù…Ø®ØªÙ„ÙØ©
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-check text-green-400 ml-2"></i>
                                    ÙˆØ§Ø¬Ù‡Ø© Ø¬Ù…ÙŠÙ„Ø© ÙˆÙ…Ø¤Ø«Ø±Ø§Øª Ø¨ØµØ±ÙŠØ©
                                </li>
                            </ul>
                        </div>

                        <div>
                            <h3 class="text-xl font-bold mb-3 text-blue-300">
                                <i class="fas fa-play ml-2"></i>
                                ÙƒÙŠÙÙŠØ© Ø§Ù„Ù„Ø¹Ø¨:
                            </h3>
                            <ol class="space-y-2 text-gray-200">
                                <li class="flex items-start">
                                    <span class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold ml-2 mt-0.5">1</span>
                                    Ø§Ø®ØªØ± "Ø¨Ø¯Ø¡ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©" Ù…Ù† Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                                </li>
                                <li class="flex items-start">
                                    <span class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold ml-2 mt-0.5">2</span>
                                    Ø­Ø¯Ø¯ Ø¹Ø¯Ø¯ Ø§Ù„ÙØ±Ù‚ ÙˆØ£Ø³Ù…Ø§Ø¡Ù‡Ø§
                                </li>
                                <li class="flex items-start">
                                    <span class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold ml-2 mt-0.5">3</span>
                                    Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ ÙˆØ¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆÙ…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©
                                </li>
                                <li class="flex items-start">
                                    <span class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold ml-2 mt-0.5">4</span>
                                    ÙˆÙ„Ù‘Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
                                </li>
                                <li class="flex items-start">
                                    <span class="bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold ml-2 mt-0.5">5</span>
                                    Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆØ§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ù…Ù†Ø§ÙØ³Ø©!
                                </li>
                            </ol>
                        </div>

                        <div>
                            <h3 class="text-xl font-bold mb-3 text-purple-300">
                                <i class="fas fa-lightbulb ml-2"></i>
                                Ù†ØµØ§Ø¦Ø­ Ù„Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†:
                            </h3>
                            <ul class="space-y-2 text-gray-200">
                                <li class="flex items-center">
                                    <i class="fas fa-arrow-left text-purple-400 ml-2"></i>
                                    Ø§Ø³ØªØ®Ø¯Ù… "Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø¹Ù„Ù…" Ù„ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø© Ù…Ø®ØµØµØ©
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-arrow-left text-purple-400 ml-2"></i>
                                    Ø§Ø­ÙØ¸ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙÙŠØ¯Ø© Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-arrow-left text-purple-400 ml-2"></i>
                                    Ù†ÙˆÙ‘Ø¹ ÙÙŠ Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ØµØ¹ÙˆØ¨Ø© Ù„ØªÙ†Ø§Ø³Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ù„Ø§Ø¨
                                </li>
                                <li class="flex items-center">
                                    <i class="fas fa-arrow-left text-purple-400 ml-2"></i>
                                    Ø´Ø¬Ø¹ Ø§Ù„ØªØ¹Ø§ÙˆÙ† ÙˆØ§Ù„Ù…Ù†Ø§ÙØ³Ø© Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ©
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="mb-8">
                <h1 class="text-6xl font-black mb-4 gold-gradient bg-clip-text text-transparent pulse-animation">
                    ğŸ’° Ù…Ù† Ø³ÙŠØ±Ø¨Ø­ Ø§Ù„Ù…Ù„ÙŠÙˆÙ† ğŸ’°
                </h1>
                <p class="text-xl text-blue-100">Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ù…ØªØ·ÙˆØ±Ø©</p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <button onclick="showSetup()" class="bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 p-6 rounded-xl text-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg">
                    ğŸ® Ø¨Ø¯Ø¡ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©
                </button>
                <button onclick="showQuestionManager()" class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 p-6 rounded-xl text-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg">
                    ğŸ“ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
                </button>
                <button onclick="showAIGenerator()" class="bg-gradient-to-r from-indigo-500 to-indigo-600 hover:from-indigo-600 hover:to-indigo-700 p-6 rounded-xl text-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg">
                    ğŸ¤– Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
                </button>
                <button onclick="showGameInfo()" class="bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 p-6 rounded-xl text-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg">
                    ğŸ“– Ø´Ø±Ø­ Ø§Ù„Ù„Ø¹Ø¨Ø©
                </button>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù„Ø¹Ø¨Ø© -->
    <div id="setupScreen" class="hidden min-h-screen p-4">
        <div class="max-w-4xl mx-auto">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold mb-4">âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù„Ø¹Ø¨Ø©</h2>
                <button onclick="showHome()" class="bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg">â† Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
            </div>
            
            <div class="grid md:grid-cols-2 gap-8">
                <!-- Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙØ±Ù‚ -->
                <div class="bg-white/10 backdrop-blur-sm rounded-xl p-6">
                    <h3 class="text-2xl font-bold mb-4">ğŸ‘¥ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙØ±Ù‚</h3>
                    
                    <div class="mb-4">
                        <label class="block text-sm font-medium mb-2">Ø¹Ø¯Ø¯ Ø§Ù„ÙØ±Ù‚:</label>
                        <select id="teamCount" onchange="updateTeamInputs()" class="w-full p-3 rounded-lg bg-blue-900 border border-blue-700 text-white">
                            <option value="2">ÙØ±ÙŠÙ‚Ø§Ù†</option>
                            <option value="4">Ø£Ø±Ø¨Ø¹Ø© ÙØ±Ù‚</option>
                        </select>
                    </div>
                    
                    <div id="teamInputs" class="space-y-3">
                        <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                    </div>
                </div>
                
                <!-- Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© -->
                <div class="glass-card rounded-xl p-6">
                    <h3 class="text-2xl font-bold mb-4">â“ Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</h3>
                    
                    <div class="space-y-4">
                        <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ -->
                        <div>
                            <label class="block text-sm font-medium mb-3">ğŸ“š Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹:</label>
                            <div class="grid grid-cols-2 gap-2 mb-3">
                                <button onclick="selectTopic('Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª')" class="topic-selector p-3 rounded-lg text-sm font-bold transition-all duration-300">
                                    ğŸ”¢ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª
                                </button>
                                <button onclick="selectTopic('Ø§Ù„Ø¹Ù„ÙˆÙ…')" class="topic-selector p-3 rounded-lg text-sm font-bold transition-all duration-300">
                                    ğŸ§ª Ø§Ù„Ø¹Ù„ÙˆÙ…
                                </button>
                                <button onclick="selectTopic('Ø§Ù„ØªØ§Ø±ÙŠØ®')" class="topic-selector p-3 rounded-lg text-sm font-bold transition-all duration-300">
                                    ğŸ“œ Ø§Ù„ØªØ§Ø±ÙŠØ®
                                </button>
                                <button onclick="selectTopic('Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§')" class="topic-selector p-3 rounded-lg text-sm font-bold transition-all duration-300">
                                    ğŸŒ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§
                                </button>
                                <button onclick="selectTopic('Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©')" class="topic-selector p-3 rounded-lg text-sm font-bold transition-all duration-300">
                                    ğŸ“– Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                                </button>
                                <button onclick="selectTopic('Ø§Ù„Ø«Ù‚Ø§ÙØ© Ø§Ù„Ø¹Ø§Ù…Ø©')" class="topic-selector p-3 rounded-lg text-sm font-bold transition-all duration-300">
                                    ğŸ­ Ø§Ù„Ø«Ù‚Ø§ÙØ© Ø§Ù„Ø¹Ø§Ù…Ø©
                                </button>
                            </div>
                            <input type="text" id="topic" placeholder="Ø£Ùˆ Ø§ÙƒØªØ¨ Ù…ÙˆØ¶ÙˆØ¹Ø§Ù‹ Ù…Ø®ØµØµØ§Ù‹..." class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white placeholder-blue-300 backdrop-blur-sm">
                        </div>
                        
                        <!-- ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ -->
                        <div id="topicDetails" class="hidden">
                            <label class="block text-sm font-medium mb-2">ğŸ¯ ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ù…ÙˆØ¶ÙˆØ¹:</label>
                            <textarea id="topicSpecifics" rows="2" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø¨Ø± ÙˆØ§Ù„Ù‡Ù†Ø¯Ø³Ø©ØŒ Ø£Ùˆ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© ÙÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ®..." class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white placeholder-blue-300 backdrop-blur-sm"></textarea>
                        </div>
                        
                        <!-- Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© -->
                        <div>
                            <label class="block text-sm font-medium mb-2">ğŸ“ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©:</label>
                            <select id="educationLevel" class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white backdrop-blur-sm">
                                <option value="elementary">Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ©</option>
                                <option value="middle">Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©</option>
                                <option value="high">Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©</option>
                                <option value="university">Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØ©</option>
                            </select>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">ğŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</label>
                                <select id="questionCount" class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white backdrop-blur-sm">
                                    <option value="5">5 Ø£Ø³Ø¦Ù„Ø©</option>
                                    <option value="10">10 Ø£Ø³Ø¦Ù„Ø©</option>
                                    <option value="15">15 Ø³Ø¤Ø§Ù„</option>
                                    <option value="20">20 Ø³Ø¤Ø§Ù„</option>
                                </select>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium mb-2">âš¡ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©:</label>
                                <select id="difficulty" class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white backdrop-blur-sm">
                                    <option value="easy">Ø³Ù‡Ù„ ğŸŸ¢</option>
                                    <option value="medium">Ù…ØªÙˆØ³Ø· ğŸŸ¡</option>
                                    <option value="hard">ØµØ¹Ø¨ ğŸ”´</option>
                                    <option value="mixed">Ù…Ø®ØªÙ„Ø· ğŸŒˆ</option>
                                </select>
                            </div>
                        </div>
                        
                        <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªÙˆÙ‚ÙŠØª -->
                        <div>
                            <label class="block text-sm font-medium mb-2">â° Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø²Ù…Ù†ÙŠ Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„:</label>
                            <select id="questionTimer" class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white backdrop-blur-sm">
                                <option value="0">Ø¨Ø¯ÙˆÙ† ØªÙˆÙ‚ÙŠØª â³</option>
                                <option value="30">30 Ø«Ø§Ù†ÙŠØ© âš¡</option>
                                <option value="60">Ø¯Ù‚ÙŠÙ‚Ø© ÙˆØ§Ø­Ø¯Ø© ğŸ•</option>
                                <option value="90">Ø¯Ù‚ÙŠÙ‚Ø© ÙˆÙ†ØµÙ ğŸ•</option>
                                <option value="120">Ø¯Ù‚ÙŠÙ‚ØªØ§Ù† ğŸ•‘</option>
                                <option value="180">3 Ø¯Ù‚Ø§Ø¦Ù‚ ğŸ•’</option>
                            </select>
                        </div>
                        
                        <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… -->
                        <div id="generationProgress" class="hidden">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-sm">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                                <span id="progressPercent" class="text-sm">0%</span>
                            </div>
                            <div class="progress-bar">
                                <div id="progressFill" class="progress-fill" style="width: 0%"></div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-3">
                            <button onclick="generateQuestions()" id="generateBtn" class="bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 p-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105">
                                <i class="fas fa-robot"></i> ØªÙˆÙ„ÙŠØ¯ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
                            </button>
                            
                            <button onclick="useManualQuestions()" class="bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 p-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105">
                                <i class="fas fa-edit"></i> Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ©
                            </button>
                        </div>
                        
                        <!-- Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆÙ„Ø¯Ø© -->
                        <div id="generatedPreview" class="hidden mt-4 p-4 bg-green-900/30 rounded-lg border border-green-500">
                            <h4 class="font-bold text-green-300 mb-2">âœ… ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­!</h4>
                            <div id="previewContent" class="text-sm text-green-100"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="text-center mt-8">
                <button onclick="startGame()" class="bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 px-8 py-4 rounded-xl text-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg">
                    ğŸš€ Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
                </button>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ -->
    <div id="aiGeneratorScreen" class="hidden min-h-screen p-4">
        <div class="max-w-4xl mx-auto">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold mb-4">
                    <i class="fas fa-robot animate-pulse"></i> Ù…ÙˆÙ„Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
                </h2>
                <button onclick="showHome()" class="bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg transition-all duration-300 transform hover:scale-105">
                    <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </button>
            </div>
            
            <div class="glass-card rounded-xl p-8">
                <div class="space-y-6">
                    <!-- Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ -->
                    <div>
                        <label class="block text-sm font-medium mb-3">ğŸ“š Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹:</label>
                        <div class="grid grid-cols-2 gap-2 mb-3">
                            <button onclick="selectAITopic('Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª')" class="topic-selector p-3 rounded-lg text-sm font-bold transition-all duration-300">
                                ğŸ”¢ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª
                            </button>
                            <button onclick="selectAITopic('Ø§Ù„Ø¹Ù„ÙˆÙ…')" class="topic-selector p-3 rounded-lg text-sm font-bold transition-all duration-300">
                                ğŸ§ª Ø§Ù„Ø¹Ù„ÙˆÙ…
                            </button>
                            <button onclick="selectAITopic('Ø§Ù„ØªØ§Ø±ÙŠØ®')" class="topic-selector p-3 rounded-lg text-sm font-bold transition-all duration-300">
                                ğŸ“œ Ø§Ù„ØªØ§Ø±ÙŠØ®
                            </button>
                            <button onclick="selectAITopic('Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§')" class="topic-selector p-3 rounded-lg text-sm font-bold transition-all duration-300">
                                ğŸŒ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§
                            </button>
                            <button onclick="selectAITopic('Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©')" class="topic-selector p-3 rounded-lg text-sm font-bold transition-all duration-300">
                                ğŸ“– Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
                            </button>
                            <button onclick="selectAITopic('Ø§Ù„Ø«Ù‚Ø§ÙØ© Ø§Ù„Ø¹Ø§Ù…Ø©')" class="topic-selector p-3 rounded-lg text-sm font-bold transition-all duration-300">
                                ğŸ­ Ø§Ù„Ø«Ù‚Ø§ÙØ© Ø§Ù„Ø¹Ø§Ù…Ø©
                            </button>
                        </div>
                        <input type="text" id="aiTopic" placeholder="Ø£Ùˆ Ø§ÙƒØªØ¨ Ù…ÙˆØ¶ÙˆØ¹Ø§Ù‹ Ù…Ø®ØµØµØ§Ù‹..." class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white placeholder-blue-300 backdrop-blur-sm">
                    </div>
                    
                    <!-- ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ -->
                    <div id="aiTopicDetails" class="hidden">
                        <label class="block text-sm font-medium mb-2">ğŸ¯ ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„Ù…ÙˆØ¶ÙˆØ¹:</label>
                        <textarea id="aiTopicSpecifics" rows="2" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø¨Ø± ÙˆØ§Ù„Ù‡Ù†Ø¯Ø³Ø©ØŒ Ø£Ùˆ Ø§Ù„ÙØªØ±Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© ÙÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ®..." class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white placeholder-blue-300 backdrop-blur-sm"></textarea>
                    </div>
                    
                    <!-- Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© -->
                    <div>
                        <label class="block text-sm font-medium mb-2">ğŸ“ Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©:</label>
                        <select id="aiEducationLevel" class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white backdrop-blur-sm">
                            <option value="elementary">Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ©</option>
                            <option value="middle">Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©</option>
                            <option value="high">Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©</option>
                            <option value="university">Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØ©</option>
                        </select>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium mb-2">ğŸ“Š Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</label>
                            <select id="aiQuestionCount" class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white backdrop-blur-sm">
                                <option value="5">5 Ø£Ø³Ø¦Ù„Ø©</option>
                                <option value="10">10 Ø£Ø³Ø¦Ù„Ø©</option>
                                <option value="15">15 Ø³Ø¤Ø§Ù„</option>
                                <option value="20">20 Ø³Ø¤Ø§Ù„</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium mb-2">âš¡ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©:</label>
                            <select id="aiDifficulty" class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white backdrop-blur-sm">
                                <option value="easy">Ø³Ù‡Ù„ ğŸŸ¢</option>
                                <option value="medium">Ù…ØªÙˆØ³Ø· ğŸŸ¡</option>
                                <option value="hard">ØµØ¹Ø¨ ğŸ”´</option>
                                <option value="mixed">Ù…Ø®ØªÙ„Ø· ğŸŒˆ</option>
                            </select>
                        </div>
                    </div>
                    
                    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… -->
                    <div id="aiGenerationProgress" class="hidden">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...</span>
                            <span id="aiProgressPercent" class="text-sm">0%</span>
                        </div>
                        <div class="progress-bar">
                            <div id="aiProgressFill" class="progress-fill" style="width: 0%"></div>
                        </div>
                    </div>
                    
                    <button onclick="generateAIQuestions()" id="aiGenerateBtn" class="w-full bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 p-4 rounded-lg text-xl font-bold transition-all duration-300 transform hover:scale-105">
                        <i class="fas fa-robot"></i> ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
                    </button>
                    
                    <!-- Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆÙ„Ø¯Ø© -->
                    <div id="aiGeneratedPreview" class="hidden mt-4 p-4 bg-green-900/30 rounded-lg border border-green-500">
                        <h4 class="font-bold text-green-300 mb-2">âœ… ØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­!</h4>
                        <div id="aiPreviewContent" class="text-sm text-green-100"></div>
                        <div class="mt-4 flex gap-3">
                            <button onclick="saveAIQuestions()" class="bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-bold transition-all duration-300">
                                <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
                            </button>
                            <button onclick="useAIQuestionsDirectly()" class="bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded font-bold transition-all duration-300">
                                <i class="fas fa-play"></i> Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…Ø¨Ø§Ø´Ø±Ø©
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© -->
    <div id="questionManagerScreen" class="hidden min-h-screen p-4">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-8">
                <h2 class="text-4xl font-bold mb-4">
                    <i class="fas fa-cogs animate-spin"></i> Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
                </h2>
                <button onclick="showHome()" class="bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg transition-all duration-300 transform hover:scale-105">
                    <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </button>
            </div>
            
            <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
            <div class="bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-4 mb-8 text-center">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-white/20 rounded-lg p-3">
                        <i class="fas fa-question-circle text-2xl mb-2 text-yellow-300"></i>
                        <div class="text-lg font-bold" id="totalQuestionsCount">0</div>
                        <div class="text-sm">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</div>
                    </div>
                    <div class="bg-white/20 rounded-lg p-3">
                        <i class="fas fa-plus-circle text-2xl mb-2 text-green-300"></i>
                        <div class="text-lg font-bold" id="sessionQuestionsCount">0</div>
                        <div class="text-sm">Ø£Ø³Ø¦Ù„Ø© Ù‡Ø°Ù‡ Ø§Ù„Ø¬Ù„Ø³Ø©</div>
                    </div>
                    <div class="bg-white/20 rounded-lg p-3">
                        <i class="fas fa-robot text-2xl mb-2 text-purple-300"></i>
                        <div class="text-lg font-bold" id="aiQuestionsCount">0</div>
                        <div class="text-sm">Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</div>
                    </div>
                </div>
            </div>
            
            <!-- Ø·Ø±Ù‚ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© -->
            <div class="grid lg:grid-cols-3 gap-6 mb-8">
                <!-- Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø§Ù„ÙŠØ¯ÙˆÙŠØ© -->
                <div class="glass-card rounded-xl p-6">
                    <div class="text-center mb-4">
                        <i class="fas fa-edit text-4xl text-blue-400 mb-2"></i>
                        <h3 class="text-xl font-bold">Ø¥Ø¶Ø§ÙØ© ÙŠØ¯ÙˆÙŠØ©</h3>
                        <p class="text-sm text-gray-300">Ø§ÙƒØªØ¨ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ù†ÙØ³Ùƒ</p>
                    </div>
                    <button onclick="showManualInput()" class="w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 p-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105">
                        <i class="fas fa-pencil-alt"></i> Ø¨Ø¯Ø¡ Ø§Ù„ÙƒØªØ§Ø¨Ø©
                    </button>
                </div>
                
                <!-- Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø¹Ù„Ù… -->
                <div class="glass-card rounded-xl p-6">
                    <div class="text-center mb-4">
                        <i class="fas fa-magic text-4xl text-purple-400 mb-2"></i>
                        <h3 class="text-xl font-bold">Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø¹Ù„Ù…</h3>
                        <p class="text-sm text-gray-300">Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ ØµÙŠØºØ© Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</p>
                    </div>
                    <button onclick="showTeacherAssistant()" class="w-full bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 p-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105">
                        <i class="fas fa-wand-magic-sparkles"></i> Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ
                    </button>
                </div>
                
                <!-- Ù…Ø­ÙˆÙ„ Ø§Ù„Ù†ØµÙˆØµ -->
                <div class="glass-card rounded-xl p-6">
                    <div class="text-center mb-4">
                        <i class="fas fa-exchange-alt text-4xl text-green-400 mb-2"></i>
                        <h3 class="text-xl font-bold">Ù…Ø­ÙˆÙ„ Ø§Ù„Ù†ØµÙˆØµ</h3>
                        <p class="text-sm text-gray-300">Ø­ÙˆÙ„ Ø§Ù„Ù†Øµ Ù„Ø£Ø³Ø¦Ù„Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</p>
                    </div>
                    <button onclick="showTextConverter()" class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 p-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105">
                        <i class="fas fa-sync-alt"></i> ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Øµ
                    </button>
                </div>
            </div>
            
            <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¹Ù…Ù„ -->
            <div class="grid lg:grid-cols-2 gap-8">
                <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ -->
                <div class="space-y-6">
                    <!-- Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙŠØ¯ÙˆÙŠ -->
                    <div id="manualInputSection" class="glass-card rounded-xl p-6 hidden">
                        <h3 class="text-2xl font-bold mb-4">
                            <i class="fas fa-edit text-blue-400"></i> Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯
                        </h3>
                        
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium mb-2">
                                    <i class="fas fa-question"></i> Ø§Ù„Ø³Ø¤Ø§Ù„:
                                </label>
                                <textarea id="newQuestion" rows="3" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù‡Ù†Ø§..." class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white placeholder-blue-300 backdrop-blur-sm"></textarea>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="block text-sm font-medium mb-2">
                                        <i class="fas fa-circle text-red-400"></i> Ø§Ù„Ø®ÙŠØ§Ø± Ø£:
                                    </label>
                                    <input type="text" id="optionA" placeholder="Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„" class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white placeholder-blue-300 backdrop-blur-sm">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">
                                        <i class="fas fa-circle text-yellow-400"></i> Ø§Ù„Ø®ÙŠØ§Ø± Ø¨:
                                    </label>
                                    <input type="text" id="optionB" placeholder="Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ" class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white placeholder-blue-300 backdrop-blur-sm">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">
                                        <i class="fas fa-circle text-green-400"></i> Ø§Ù„Ø®ÙŠØ§Ø± Ø¬:
                                    </label>
                                    <input type="text" id="optionC" placeholder="Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù„Ø«" class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white placeholder-blue-300 backdrop-blur-sm">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">
                                        <i class="fas fa-circle text-purple-400"></i> Ø§Ù„Ø®ÙŠØ§Ø± Ø¯:
                                    </label>
                                    <input type="text" id="optionD" placeholder="Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø±Ø§Ø¨Ø¹" class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white placeholder-blue-300 backdrop-blur-sm">
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium mb-2">
                                    <i class="fas fa-check-circle text-green-400"></i> Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©:
                                </label>
                                <select id="correctAnswer" class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white backdrop-blur-sm">
                                    <option value="A">Ø£</option>
                                    <option value="B">Ø¨</option>
                                    <option value="C">Ø¬</option>
                                    <option value="D">Ø¯</option>
                                </select>
                            </div>
                            
                            <button onclick="addQuestion()" class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 p-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105">
                                <i class="fas fa-plus-circle"></i> Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø¤Ø§Ù„
                            </button>
                        </div>
                    </div>
                    
                    <!-- Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø¹Ù„Ù… -->
                    <div id="teacherAssistantSection" class="glass-card rounded-xl p-6 hidden">
                        <h3 class="text-2xl font-bold mb-4">
                            <i class="fas fa-magic text-purple-400"></i> Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø¹Ù„Ù… Ø§Ù„Ø°ÙƒÙŠ
                        </h3>
                        
                        <div class="space-y-4">
                            <div class="bg-purple-900/30 p-4 rounded-lg border border-purple-500">
                                <h4 class="font-bold text-purple-300 mb-2">
                                    <i class="fas fa-info-circle"></i> ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ØŸ
                                </h4>
                                <ol class="text-sm text-purple-100 space-y-1">
                                    <li>1. Ø­Ø¯Ø¯ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ ÙˆØ§Ù„ØªÙØ§ØµÙŠÙ„ Ø£Ø¯Ù†Ø§Ù‡</li>
                                    <li>2. Ø§Ù†Ø³Ø® Ø§Ù„ØµÙŠØºØ© Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©</li>
                                    <li>3. Ø§Ø³ØªØ®Ø¯Ù…Ù‡Ø§ Ù…Ø¹ Ø£ÙŠ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ (ChatGPT, Gemini, Claude...)</li>
                                    <li>4. Ø§Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙˆØ§Ø³ØªØ®Ø¯Ù… "Ù…Ø­ÙˆÙ„ Ø§Ù„Ù†ØµÙˆØµ"</li>
                                </ol>
                            </div>
                            
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-medium mb-2">Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹:</label>
                                    <input type="text" id="assistantTopic" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª" class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white placeholder-blue-300 backdrop-blur-sm">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium mb-2">Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:</label>
                                    <select id="assistantCount" class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white backdrop-blur-sm">
                                        <option value="5">5 Ø£Ø³Ø¦Ù„Ø©</option>
                                        <option value="10">10 Ø£Ø³Ø¦Ù„Ø©</option>
                                        <option value="15">15 Ø³Ø¤Ø§Ù„</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium mb-2">ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ©:</label>
                                <textarea id="assistantDetails" rows="2" placeholder="Ù…Ø«Ø§Ù„: Ù„Ù„ØµÙ Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØŒ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ù…Ø¹ ÙˆØ§Ù„Ø·Ø±Ø­..." class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white placeholder-blue-300 backdrop-blur-sm"></textarea>
                            </div>
                            
                            <button onclick="generatePrompt()" class="w-full bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 p-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105">
                                <i class="fas fa-wand-magic-sparkles"></i> Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØµÙŠØºØ©
                            </button>
                            
                            <div id="generatedPrompt" class="hidden">
                                <label class="block text-sm font-medium mb-2">
                                    <i class="fas fa-copy"></i> Ø§Ù„ØµÙŠØºØ© Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©:
                                </label>
                                <div class="relative">
                                    <textarea id="promptText" rows="6" readonly class="w-full p-3 rounded-lg bg-green-900/30 border border-green-500 text-green-100 text-sm"></textarea>
                                    <button onclick="copyPrompt()" class="absolute top-2 left-2 bg-green-600 hover:bg-green-700 px-3 py-1 rounded text-xs transition-all duration-300">
                                        <i class="fas fa-copy"></i> Ù†Ø³Ø®
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Ù…Ø­ÙˆÙ„ Ø§Ù„Ù†ØµÙˆØµ -->
                    <div id="textConverterSection" class="glass-card rounded-xl p-6 hidden">
                        <h3 class="text-2xl font-bold mb-4">
                            <i class="fas fa-exchange-alt text-green-400"></i> Ù…Ø­ÙˆÙ„ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø°ÙƒÙŠ
                        </h3>
                        
                        <div class="space-y-4">
                            <div class="bg-green-900/30 p-4 rounded-lg border border-green-500">
                                <h4 class="font-bold text-green-300 mb-2">
                                    <i class="fas fa-lightbulb"></i> ØªØ¹Ù„ÙŠÙ…Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:
                                </h4>
                                <p class="text-sm text-green-100">
                                    Ø§Ù„ØµÙ‚ Ø§Ù„Ù†Øµ Ø§Ù„Ù…ÙˆÙ„Ø¯ Ù…Ù† Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø£Ø¯Ù†Ø§Ù‡ØŒ ÙˆØ³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ø¥Ù„Ù‰ Ø£Ø³Ø¦Ù„Ø© Ù…Ù†Ø¸Ù…Ø©
                                </p>
                            </div>
                            
                            <div>
                                <label class="block text-sm font-medium mb-2">
                                    <i class="fas fa-paste"></i> Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ ØªØ­ÙˆÙŠÙ„Ù‡:
                                </label>
                                <textarea id="textToConvert" rows="8" placeholder="Ø§Ù„ØµÙ‚ Ù‡Ù†Ø§ Ø§Ù„Ù†Øµ Ø§Ù„Ù…ÙˆÙ„Ø¯ Ù…Ù† Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ..." class="w-full p-3 rounded-lg bg-blue-900/50 border border-blue-700 text-white placeholder-blue-300 backdrop-blur-sm"></textarea>
                            </div>
                            
                            <button onclick="convertText()" class="w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 p-3 rounded-lg font-bold transition-all duration-300 transform hover:scale-105">
                                <i class="fas fa-sync-alt"></i> ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Øµ
                            </button>
                            
                            <div id="conversionResult" class="hidden">
                                <div class="bg-green-900/30 p-4 rounded-lg border border-green-500">
                                    <h4 class="font-bold text-green-300 mb-2">
                                        <i class="fas fa-check-circle"></i> Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªØ­ÙˆÙŠÙ„:
                                    </h4>
                                    <div id="convertedQuestions" class="text-sm text-green-100"></div>
                                    <button onclick="saveConvertedQuestions()" class="mt-3 bg-green-600 hover:bg-green-700 px-4 py-2 rounded font-bold transition-all duration-300">
                                        <i class="fas fa-save"></i> Ø­ÙØ¸ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© -->
                <div class="glass-card rounded-xl p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold">
                            <i class="fas fa-list text-yellow-400"></i> Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
                        </h3>
                        <div class="space-x-2 space-x-reverse">
                            <button onclick="exportQuestions()" class="bg-blue-600 hover:bg-blue-700 px-3 py-2 rounded text-sm transition-all duration-300">
                                <i class="fas fa-download"></i> ØªØµØ¯ÙŠØ±
                            </button>
                            <button onclick="deleteAllQuestions()" class="bg-red-600 hover:bg-red-700 px-3 py-2 rounded text-sm transition-all duration-300">
                                <i class="fas fa-trash-alt"></i> Ø­Ø°Ù Ø§Ù„ÙƒÙ„
                            </button>
                        </div>
                    </div>
                    
                    <div id="questionsListContainer">
                        <div id="questionsList" class="space-y-3 max-h-96 overflow-y-auto">
                            <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                        </div>
                        
                        <div id="noQuestionsMessage" class="text-center py-8 text-gray-400 hidden">
                            <i class="fas fa-question-circle text-4xl mb-4"></i>
                            <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù…Ø­ÙÙˆØ¸Ø© Ø¨Ø¹Ø¯</p>
                            <p class="text-sm">Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ø£Ø³Ø¦Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© -->
    <div id="gameScreen" class="hidden min-h-screen p-4">
        <div class="max-w-7xl mx-auto">
            <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù„ÙˆÙŠ -->
            <div class="flex justify-between items-center mb-6">
                <div class="flex space-x-4 space-x-reverse">
                    <button onclick="pauseGame()" class="bg-yellow-500 hover:bg-yellow-600 px-4 py-2 rounded-lg font-bold">â¸ï¸ Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª</button>
                    <button onclick="endGame()" class="bg-red-500 hover:bg-red-600 px-4 py-2 rounded-lg font-bold">ğŸ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
                </div>
                <div class="text-center">
                    <div class="text-2xl font-bold">Ø§Ù„Ø³Ø¤Ø§Ù„ <span id="currentQuestionNumber">1</span> Ù…Ù† <span id="totalQuestions">10</span></div>
                    <div class="text-lg">Ø§Ù„Ø¯ÙˆØ±: <span id="currentTeamName" class="font-bold text-yellow-300">Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£ÙˆÙ„</span></div>
                    <!-- Ø¹Ø¯Ø§Ø¯ Ø§Ù„ÙˆÙ‚Øª -->
                    <div id="timerContainer" class="hidden mt-4">
                        <div class="bg-red-600 rounded-full p-4 inline-block">
                            <div class="text-3xl font-bold text-white" id="timerDisplay">00:00</div>
                        </div>
                        <div class="text-sm text-red-300 mt-2">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</div>
                    </div>
                </div>
            </div>
            
            <div class="grid lg:grid-cols-4 gap-6">
                <!-- Ø³Ù„Ù… Ø§Ù„Ø£Ù…ÙˆØ§Ù„ -->
                <div class="lg:col-span-1">
                    <div class="money-ladder rounded-xl p-4">
                        <h3 class="text-xl font-bold text-center mb-4 text-yellow-300">ğŸ’° Ø³Ù„Ù… Ø§Ù„Ø£Ù…ÙˆØ§Ù„</h3>
                        <div id="moneyLadder" class="space-y-2">
                            <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                        </div>
                    </div>
                    
                    <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙØ±Ù‚ -->
                    <div class="mt-6">
                        <h3 class="text-xl font-bold text-center mb-4">ğŸ† Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
                        <div id="teamsInfo" class="space-y-3">
                            <!-- Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡Ø§ Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ§Ù‹ -->
                        </div>
                    </div>
                </div>
                
                <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ -->
                <div class="lg:col-span-3">
                    <div class="question-card rounded-xl p-8 mb-6 slide-in">
                        <div class="text-center mb-8">
                            <h2 id="questionText" class="text-2xl font-bold leading-relaxed">
                                <!-- Ø§Ù„Ø³Ø¤Ø§Ù„ Ø³ÙŠØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                            </h2>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-4">
                            <button id="optionA" onclick="selectAnswer('A')" class="option-btn p-4 rounded-xl text-lg font-bold text-right border-2 border-yellow-400">
                                <span class="block text-yellow-300 text-sm mb-1">Ø£</span>
                                <span id="optionAText"></span>
                            </button>
                            <button id="optionB" onclick="selectAnswer('B')" class="option-btn p-4 rounded-xl text-lg font-bold text-right border-2 border-yellow-400">
                                <span class="block text-yellow-300 text-sm mb-1">Ø¨</span>
                                <span id="optionBText"></span>
                            </button>
                            <button id="optionC" onclick="selectAnswer('C')" class="option-btn p-4 rounded-xl text-lg font-bold text-right border-2 border-yellow-400">
                                <span class="block text-yellow-300 text-sm mb-1">Ø¬</span>
                                <span id="optionCText"></span>
                            </button>
                            <button id="optionD" onclick="selectAnswer('D')" class="option-btn p-4 rounded-xl text-lg font-bold text-right border-2 border-yellow-400">
                                <span class="block text-yellow-300 text-sm mb-1">Ø¯</span>
                                <span id="optionDText"></span>
                            </button>
                        </div>
                        
                        <div class="text-center mt-8">
                            <button id="finalAnswerBtn" onclick="confirmAnswer()" class="bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 px-8 py-3 rounded-xl text-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg hidden">
                                âœ… Ø¥Ø¬Ø§Ø¨Ø© Ù†Ù‡Ø§Ø¦ÙŠØ©
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© -->
    <div id="resultsScreen" class="hidden min-h-screen flex items-center justify-center p-4">
        <div class="text-center max-w-4xl mx-auto">
            <div class="mb-8">
                <h1 class="text-6xl font-black mb-4 gold-gradient bg-clip-text text-transparent">ğŸ† Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</h1>
            </div>
            
            <div id="finalResults" class="space-y-4 mb-8">
                <!-- Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
            </div>
            
            <div class="flex justify-center space-x-4 space-x-reverse">
                <button onclick="showHome()" class="bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 px-8 py-4 rounded-xl text-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg">
                    ğŸ  Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </button>
                <button onclick="playAgain()" class="bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 px-8 py-4 rounded-xl text-xl font-bold transition-all duration-300 transform hover:scale-105 shadow-lg">
                    ğŸ”„ Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
                </button>
            </div>
        </div>
    </div>

    <script>
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        let gameState = {
            teams: [],
            questions: [],
            currentQuestionIndex: 0,
            currentTeamIndex: 0,
            selectedAnswer: null,
            gameStarted: false,
            scores: {},
            connectionStatus: true,
            selectedTopic: '',
            sessionQuestions: 0,
            aiQuestions: 0,
            convertedQuestions: [],
            timer: null,
            timeLeft: 0,
            questionTimeLimit: 0,
            aiGeneratedQuestions: []
        };

        // ÙØ­Øµ Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
        function checkConnection() {
            const status = navigator.onLine;
            const statusElement = document.getElementById('connectionStatus');
            
            if (status !== gameState.connectionStatus) {
                gameState.connectionStatus = status;
                
                if (status) {
                    statusElement.className = 'connection-status connection-online';
                    statusElement.innerHTML = '<i class="fas fa-wifi"></i> Ù…ØªØµÙ„';
                    showNotification('ØªÙ… Ø§Ø³ØªØ¹Ø§Ø¯Ø© Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª', 'success');
                } else {
                    statusElement.className = 'connection-status connection-offline';
                    statusElement.innerHTML = '<i class="fas fa-wifi-slash"></i> ØºÙŠØ± Ù…ØªØµÙ„';
                    showNotification('Ø§Ù†Ù‚Ø·Ø¹ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª', 'error');
                }
            }
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
        function showNotification(message, type = 'info', duration = 3000) {
            const notificationArea = document.getElementById('notificationArea');
            const notification = document.createElement('div');
            
            notification.className = `notification notification-${type}`;
            notification.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-triangle' : 'info-circle'}"></i>
                ${message}
            `;
            
            notificationArea.appendChild(notification);
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
            setTimeout(() => notification.classList.add('show'), 100);
            
            // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => notificationArea.removeChild(notification), 300);
            }, duration);
        }

        // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø¬Ø³ÙŠÙ…Ø§Øª Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            
            setInterval(() => {
                if (particlesContainer.children.length < 10) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.width = particle.style.height = (Math.random() * 4 + 2) + 'px';
                    particle.style.animationDelay = Math.random() * 2 + 's';
                    particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                    
                    particlesContainer.appendChild(particle);
                    
                    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¬Ø³ÙŠÙ… Ø¨Ø¹Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø­Ø±ÙƒØ©
                    setTimeout(() => {
                        if (particlesContainer.contains(particle)) {
                            particlesContainer.removeChild(particle);
                        }
                    }, 6000);
                }
            }, 1000);
        }

        // Ø§Ø®ØªÙŠØ§Ø± Ù…ÙˆØ¶ÙˆØ¹
        function selectTopic(topic) {
            gameState.selectedTopic = topic;
            document.getElementById('topic').value = topic;
            document.getElementById('topicDetails').classList.remove('hidden');
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø³Ø§Ø¨Ù‚
            document.querySelectorAll('.topic-selector').forEach(btn => {
                btn.classList.remove('ring-4', 'ring-yellow-300');
            });
            
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯
            event.target.classList.add('ring-4', 'ring-yellow-300');
            
            showNotification(`ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…ÙˆØ¶ÙˆØ¹: ${topic}`, 'success', 2000);
        }

        // Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (ÙØ§Ø±ØºØ© Ø§Ù„Ø¢Ù†)
        let defaultQuestions = [];

        // Ø³Ù„Ù… Ø§Ù„Ø£Ù…ÙˆØ§Ù„
        const moneyLadder = [
            "1,000 Ø±ÙŠØ§Ù„", "2,000 Ø±ÙŠØ§Ù„", "3,000 Ø±ÙŠØ§Ù„", "5,000 Ø±ÙŠØ§Ù„", "7,000 Ø±ÙŠØ§Ù„",
            "10,000 Ø±ÙŠØ§Ù„", "15,000 Ø±ÙŠØ§Ù„", "25,000 Ø±ÙŠØ§Ù„", "50,000 Ø±ÙŠØ§Ù„", "100,000 Ø±ÙŠØ§Ù„",
            "250,000 Ø±ÙŠØ§Ù„", "500,000 Ø±ÙŠØ§Ù„", "750,000 Ø±ÙŠØ§Ù„", "1,000,000 Ø±ÙŠØ§Ù„"
        ];

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
        function loadSavedQuestions() {
            const saved = localStorage.getItem('millionaire_questions');
            if (saved) {
                return JSON.parse(saved);
            }
            return [];
        }

        // Ø­ÙØ¸ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        function saveQuestions(questions) {
            localStorage.setItem('millionaire_questions', JSON.stringify(questions));
            updateQuestionStats();
        }

        // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        function updateQuestionStats() {
            const questions = loadSavedQuestions();
            document.getElementById('totalQuestionsCount').textContent = questions.length;
            document.getElementById('sessionQuestionsCount').textContent = gameState.sessionQuestions;
            document.getElementById('aiQuestionsCount').textContent = gameState.aiQuestions;
        }

        // Ø¹Ø±Ø¶ Ù‚Ø³Ù… Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙŠØ¯ÙˆÙŠ
        function showManualInput() {
            hideAllSections();
            document.getElementById('manualInputSection').classList.remove('hidden');
        }

        // Ø¹Ø±Ø¶ Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù…Ø¹Ù„Ù…
        function showTeacherAssistant() {
            hideAllSections();
            document.getElementById('teacherAssistantSection').classList.remove('hidden');
        }

        // Ø¹Ø±Ø¶ Ù…Ø­ÙˆÙ„ Ø§Ù„Ù†ØµÙˆØµ
        function showTextConverter() {
            hideAllSections();
            document.getElementById('textConverterSection').classList.remove('hidden');
        }

        // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…
        function hideAllSections() {
            document.getElementById('manualInputSection').classList.add('hidden');
            document.getElementById('teacherAssistantSection').classList.add('hidden');
            document.getElementById('textConverterSection').classList.add('hidden');
        }

        // ØªÙˆÙ„ÙŠØ¯ ØµÙŠØºØ© Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        function generatePrompt() {
            const topic = document.getElementById('assistantTopic').value || 'Ø¹Ø§Ù…';
            const count = document.getElementById('assistantCount').value;
            const details = document.getElementById('assistantDetails').value;

            const prompt = `Ø£Ù†Ø´Ø¦ ${count} Ø£Ø³Ø¦Ù„Ø© Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø­ÙˆÙ„ Ù…ÙˆØ¶ÙˆØ¹ "${topic}"${details ? ` Ù…Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰: ${details}` : ''}

Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:
- ÙƒÙ„ Ø³Ø¤Ø§Ù„ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 4 Ø®ÙŠØ§Ø±Ø§Øª ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…ØªÙ†ÙˆØ¹Ø©
- Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙˆÙ‡Ø§Ø¯ÙØ© ÙˆÙ…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø·Ù„Ø§Ø¨
- ØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙƒØ±Ø±Ø© Ø£Ùˆ Ø§Ù„Ù…ØªØ´Ø§Ø¨Ù‡Ø©

ØµÙŠØºØ© Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:
Ø§Ù„Ø³Ø¤Ø§Ù„ 1: [Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„]
Ø£) [Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„]
Ø¨) [Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ]
Ø¬) [Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù„Ø«]
Ø¯) [Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø±Ø§Ø¨Ø¹]
Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: [Ø£ Ø£Ùˆ Ø¨ Ø£Ùˆ Ø¬ Ø£Ùˆ Ø¯]

Ø§Ù„Ø³Ø¤Ø§Ù„ 2: [Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„]
Ø£) [Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„]
Ø¨) [Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ]
Ø¬) [Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù„Ø«]
Ø¯) [Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø±Ø§Ø¨Ø¹]
Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: [Ø£ Ø£Ùˆ Ø¨ Ø£Ùˆ Ø¬ Ø£Ùˆ Ø¯]

... ÙˆÙ‡ÙƒØ°Ø§ Ù„Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©`;

            document.getElementById('promptText').value = prompt;
            document.getElementById('generatedPrompt').classList.remove('hidden');
            
            showNotification('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØµÙŠØºØ© Ø¨Ù†Ø¬Ø§Ø­! Ø§Ù†Ø³Ø®Ù‡Ø§ ÙˆØ§Ø³ØªØ®Ø¯Ù…Ù‡Ø§ Ù…Ø¹ Ø£ÙŠ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ', 'success');
        }

        // Ù†Ø³Ø® Ø§Ù„ØµÙŠØºØ©
        function copyPrompt() {
            const promptText = document.getElementById('promptText');
            promptText.select();
            document.execCommand('copy');
            showNotification('ØªÙ… Ù†Ø³Ø® Ø§Ù„ØµÙŠØºØ©! Ø§Ù„ØµÙ‚Ù‡Ø§ ÙÙŠ Ø£ÙŠ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ', 'success', 2000);
        }

        // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Øµ Ø¥Ù„Ù‰ Ø£Ø³Ø¦Ù„Ø©
        function convertText() {
            const text = document.getElementById('textToConvert').value.trim();
            
            if (!text) {
                showNotification('ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù†Øµ Ø§Ù„Ù…Ø±Ø§Ø¯ ØªØ­ÙˆÙŠÙ„Ù‡', 'error');
                return;
            }

            try {
                const questions = parseTextToQuestions(text);
                
                if (questions.length === 0) {
                    showNotification('Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø£Ø³Ø¦Ù„Ø© ØµØ­ÙŠØ­Ø© ÙÙŠ Ø§Ù„Ù†Øµ', 'error');
                    return;
                }

                gameState.convertedQuestions = questions;
                displayConvertedQuestions(questions);
                document.getElementById('conversionResult').classList.remove('hidden');
                
                showNotification(`ØªÙ… ØªØ­ÙˆÙŠÙ„ ${questions.length} Ø³Ø¤Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­!`, 'success');
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Øµ:', error);
                showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Øµ. ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø§Ù„ØªÙ†Ø³ÙŠÙ‚', 'error');
            }
        }

        // ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù†Øµ ÙˆØªØ­ÙˆÙŠÙ„Ù‡ Ø¥Ù„Ù‰ Ø£Ø³Ø¦Ù„Ø©
        function parseTextToQuestions(text) {
            const questions = [];
            const lines = text.split('\n').map(line => line.trim()).filter(line => line);
            
            let currentQuestion = null;
            let options = [];
            
            for (let i = 0; i < lines.length; i++) {
                const line = lines[i];
                
                // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø³Ø¤Ø§Ù„
                if (line.match(/^(Ø§Ù„Ø³Ø¤Ø§Ù„\s*\d+|Ø³\d+|\d+[\.\-\)])/)) {
                    // Ø­ÙØ¸ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø³Ø§Ø¨Ù‚ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ÙƒØªÙ…Ù„Ø§Ù‹
                    if (currentQuestion && options.length === 4) {
                        questions.push({
                            question: currentQuestion,
                            options: options,
                            correct: 'A' // Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ«Ù‡ Ù„Ø§Ø­Ù‚Ø§Ù‹
                        });
                    }
                    
                    // Ø¨Ø¯Ø¡ Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯
                    currentQuestion = line.replace(/^(Ø§Ù„Ø³Ø¤Ø§Ù„\s*\d+|Ø³\d+|\d+[\.\-\)])\s*:?\s*/, '');
                    options = [];
                } else if (line.match(/^[Ø£Ø§Ø¨Ø¬Ø­Ø¯Ø°]\s*[\)\-\.]/) || line.match(/^[ABCD]\s*[\)\-\.]/)) {
                    // Ø®ÙŠØ§Ø± Ù…Ù† Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
                    const optionText = line.replace(/^[Ø£Ø§Ø¨Ø¬Ø­Ø¯Ø°ABCD]\s*[\)\-\.]\s*/, '');
                    options.push(optionText);
                } else if (line.match(/Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©\s*Ø§Ù„ØµØ­ÙŠØ­Ø©|Ø§Ù„Ø¬ÙˆØ§Ø¨\s*Ø§Ù„ØµØ­ÙŠØ­|Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©/)) {
                    // Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
                    const answerMatch = line.match(/[Ø£Ø§Ø¨Ø¬Ø­Ø¯Ø°ABCD]/);
                    if (answerMatch && questions.length > 0) {
                        const lastQuestion = questions[questions.length - 1];
                        const arabicToLatin = {'Ø£': 'A', 'Ø§': 'A', 'Ø¨': 'B', 'Ø¬': 'C', 'Ø¯': 'D'};
                        lastQuestion.correct = arabicToLatin[answerMatch[0]] || answerMatch[0];
                    }
                } else if (currentQuestion && !line.match(/^[Ø£Ø§Ø¨Ø¬Ø­Ø¯Ø°ABCD]/)) {
                    // Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ø®ÙŠØ§Ø±Ø§Ù‹
                    currentQuestion += ' ' + line;
                }
            }
            
            // Ø­ÙØ¸ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø£Ø®ÙŠØ±
            if (currentQuestion && options.length === 4) {
                questions.push({
                    question: currentQuestion,
                    options: options,
                    correct: 'A'
                });
            }
            
            return questions.filter(q => q.question && q.options.length === 4);
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­ÙˆÙ„Ø©
        function displayConvertedQuestions(questions) {
            const container = document.getElementById('convertedQuestions');
            let html = '';
            
            questions.forEach((q, index) => {
                html += `
                    <div class="mb-4 p-3 bg-green-800/30 rounded border border-green-600">
                        <div class="font-bold text-sm mb-2">Ø§Ù„Ø³Ø¤Ø§Ù„ ${index + 1}:</div>
                        <div class="text-sm mb-2">${q.question}</div>
                        <div class="text-xs space-y-1">
                            <div>Ø£) ${q.options[0]}</div>
                            <div>Ø¨) ${q.options[1]}</div>
                            <div>Ø¬) ${q.options[2]}</div>
                            <div>Ø¯) ${q.options[3]}</div>
                        </div>
                        <div class="text-xs text-green-300 mt-2">Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©: ${q.correct}</div>
                    </div>
                `;
            });
            
            container.innerHTML = html;
        }

        // Ø­ÙØ¸ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­ÙˆÙ„Ø©
        function saveConvertedQuestions() {
            if (gameState.convertedQuestions.length === 0) {
                showNotification('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù…Ø­ÙˆÙ„Ø© Ù„Ù„Ø­ÙØ¸', 'error');
                return;
            }

            const existingQuestions = loadSavedQuestions();
            const allQuestions = [...existingQuestions, ...gameState.convertedQuestions];
            saveQuestions(allQuestions);
            
            gameState.sessionQuestions += gameState.convertedQuestions.length;
            gameState.convertedQuestions = [];
            
            displayQuestions();
            document.getElementById('textToConvert').value = '';
            document.getElementById('conversionResult').classList.add('hidden');
            
            showNotification('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­ÙˆÙ„Ø© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
        }

        // Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        function deleteAllQuestions() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©ØŸ Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡!')) {
                localStorage.removeItem('millionaire_questions');
                gameState.sessionQuestions = 0;
                gameState.aiQuestions = 0;
                displayQuestions();
                updateQuestionStats();
                showNotification('ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©', 'info');
            }
        }

        // ØªØµØ¯ÙŠØ± Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        function exportQuestions() {
            const questions = loadSavedQuestions();
            
            if (questions.length === 0) {
                showNotification('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù„Ù„ØªØµØ¯ÙŠØ±', 'error');
                return;
            }

            let exportText = 'Ø£Ø³Ø¦Ù„Ø© Ù…Ù† Ø³ÙŠØ±Ø¨Ø­ Ø§Ù„Ù…Ù„ÙŠÙˆÙ†\n';
            exportText += '========================\n\n';
            
            questions.forEach((q, index) => {
                exportText += `Ø§Ù„Ø³Ø¤Ø§Ù„ ${index + 1}: ${q.question}\n`;
                exportText += `Ø£) ${q.options[0]}\n`;
                exportText += `Ø¨) ${q.options[1]}\n`;
                exportText += `Ø¬) ${q.options[2]}\n`;
                exportText += `Ø¯) ${q.options[3]}\n`;
                exportText += `Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${q.correct}\n\n`;
            });

            // Ù†Ø³Ø® Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(exportText).then(() => {
                    showNotification('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!', 'success');
                }).catch(() => {
                    fallbackCopyTextToClipboard(exportText);
                });
            } else {
                fallbackCopyTextToClipboard(exportText);
            }
        }

        // Ù†Ø³Ø® Ø§Ø­ØªÙŠØ§Ø·ÙŠ Ù„Ù„Ø­Ø§ÙØ¸Ø©
        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showNotification('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!', 'success');
            } catch (err) {
                showNotification('ÙØ´Ù„ ÙÙŠ Ù†Ø³Ø® Ø§Ù„Ø£Ø³Ø¦Ù„Ø©', 'error');
            }
            
            document.body.removeChild(textArea);
        }

        // Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø«ÙŠØ± Ø§Ù„Ø§Ø­ØªÙØ§Ù„
        function createCelebrationEffect() {
            const celebrationDiv = document.createElement('div');
            celebrationDiv.className = 'celebration-effect';
            document.body.appendChild(celebrationDiv);
            
            // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø·Ø¹ Ø§Ù„ÙƒÙˆÙ†ÙÙŠØªÙŠ
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.animationDelay = Math.random() * 3 + 's';
                confetti.style.backgroundColor = ['#ffd700', '#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4'][Math.floor(Math.random() * 5)];
                celebrationDiv.appendChild(confetti);
            }
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ£Ø«ÙŠØ± Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†Ù
            setTimeout(() => {
                document.body.removeChild(celebrationDiv);
            }, 3000);
        }
        
        // Ø¥Ù†Ø´Ø§Ø¡ ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø©
        function createWrongAnswerEffect() {
            const gameScreen = document.getElementById('gameScreen');
            gameScreen.classList.add('wrong-effect');
            
            setTimeout(() => {
                gameScreen.classList.remove('wrong-effect');
            }, 600);
        }
        
        // Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²Ù…Ù†ÙŠ
        function startTimer() {
            if (gameState.questionTimeLimit === 0) return;
            
            gameState.timeLeft = gameState.questionTimeLimit;
            const timerContainer = document.getElementById('timerContainer');
            const timerDisplay = document.getElementById('timerDisplay');
            
            timerContainer.classList.remove('hidden');
            updateTimerDisplay();
            
            gameState.timer = setInterval(() => {
                gameState.timeLeft--;
                updateTimerDisplay();
                
                // ØªØ­Ø°ÙŠØ± Ø¹Ù†Ø¯ 10 Ø«ÙˆØ§Ù†Ù Ù…ØªØ¨Ù‚ÙŠØ©
                if (gameState.timeLeft <= 10) {
                    timerContainer.classList.add('timer-warning');
                }
                
                // Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª
                if (gameState.timeLeft <= 0) {
                    clearInterval(gameState.timer);
                    timeUp();
                }
            }, 1000);
        }
        
        // ØªØ­Ø¯ÙŠØ« Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø¯Ø§Ø¯
        function updateTimerDisplay() {
            const minutes = Math.floor(gameState.timeLeft / 60);
            const seconds = gameState.timeLeft % 60;
            const timerDisplay = document.getElementById('timerDisplay');
            timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¹Ø¯Ø§Ø¯
        function stopTimer() {
            if (gameState.timer) {
                clearInterval(gameState.timer);
                gameState.timer = null;
            }
            document.getElementById('timerContainer').classList.add('hidden');
            document.getElementById('timerContainer').classList.remove('timer-warning');
        }
        
        // Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª
        function timeUp() {
            showNotification('Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! â°', 'error');
            createWrongAnswerEffect();
            
            // ØªØ¹Ø·ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            ['A', 'B', 'C', 'D'].forEach(option => {
                document.getElementById(`option${option}`).disabled = true;
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
            const question = gameState.questions[gameState.currentQuestionIndex];
            const correctBtn = document.getElementById(`option${question.correct}`);
            correctBtn.classList.add('correct-answer');
            
            setTimeout(() => {
                nextQuestion();
            }, 3000);
        }
        
        // Ø§Ø®ØªÙŠØ§Ø± Ù…ÙˆØ¶ÙˆØ¹ Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        function selectAITopic(topic) {
            document.getElementById('aiTopic').value = topic;
            document.getElementById('aiTopicDetails').classList.remove('hidden');
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø³Ø§Ø¨Ù‚
            document.querySelectorAll('#aiGeneratorScreen .topic-selector').forEach(btn => {
                btn.classList.remove('ring-4', 'ring-yellow-300');
            });
            
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ Ø§Ù„Ø¬Ø¯ÙŠØ¯
            event.target.classList.add('ring-4', 'ring-yellow-300');
            
            showNotification(`ØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ù…ÙˆØ¶ÙˆØ¹: ${topic}`, 'success', 2000);
        }
        
        // Ø¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        function showAIGenerator() {
            document.getElementById('homeScreen').classList.add('hidden');
            document.getElementById('setupScreen').classList.add('hidden');
            document.getElementById('questionManagerScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('aiGeneratorScreen').classList.remove('hidden');
        }
        
        // ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ (Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ù…Ù†ÙØµÙ„Ø©)
        async function generateAIQuestions() {
            if (!gameState.connectionStatus) {
                showNotification('ÙŠØªØ·Ù„Ø¨ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ù„ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©', 'error');
                return;
            }

            const topic = document.getElementById('aiTopic').value || 'Ø¹Ø§Ù…';
            const topicSpecifics = document.getElementById('aiTopicSpecifics').value;
            const educationLevel = document.getElementById('aiEducationLevel').value;
            const count = parseInt(document.getElementById('aiQuestionCount').value);
            const difficulty = document.getElementById('aiDifficulty').value;
            
            const button = document.getElementById('aiGenerateBtn');
            const progressDiv = document.getElementById('aiGenerationProgress');
            const progressFill = document.getElementById('aiProgressFill');
            const progressPercent = document.getElementById('aiProgressPercent');
            
            button.disabled = true;
            button.innerHTML = '<div class="loading-spinner"></div> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...';
            progressDiv.classList.remove('hidden');

            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 90) progress = 90;
                progressFill.style.width = progress + '%';
                progressPercent.textContent = Math.round(progress) + '%';
            }, 200);

            try {
                const levelMap = {
                    'elementary': 'Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ©',
                    'middle': 'Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©', 
                    'high': 'Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©',
                    'university': 'Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØ©'
                };

                const difficultyMap = {
                    'easy': 'Ø³Ù‡Ù„ ÙˆÙ…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†',
                    'medium': 'Ù…ØªÙˆØ³Ø· Ø§Ù„ØµØ¹ÙˆØ¨Ø©',
                    'hard': 'ØµØ¹Ø¨ ÙˆÙ…ØªÙ‚Ø¯Ù…',
                    'mixed': 'Ù…Ø®ØªÙ„Ø· (Ø³Ù‡Ù„ ÙˆÙ…ØªÙˆØ³Ø· ÙˆØµØ¹Ø¨)'
                };

                const prompt = `Ø£Ù†Ø´Ø¦ ${count} Ø£Ø³Ø¦Ù„Ø© Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø­ÙˆÙ„ Ù…ÙˆØ¶ÙˆØ¹ "${topic}" 
                ${topicSpecifics ? `Ù…Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰: ${topicSpecifics}` : ''}
                
                Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:
                - Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©: ${levelMap[educationLevel]}
                - Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©: ${difficultyMap[difficulty]}
                - ÙƒÙ„ Ø³Ø¤Ø§Ù„ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 4 Ø®ÙŠØ§Ø±Ø§Øª ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…ØªÙ†ÙˆØ¹Ø©
                - Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙˆÙ‡Ø§Ø¯ÙØ© ÙˆÙ…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø·Ù„Ø§Ø¨
                - ØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙƒØ±Ø±Ø© Ø£Ùˆ Ø§Ù„Ù…ØªØ´Ø§Ø¨Ù‡Ø©
                
                Ø£Ø±Ø¬Ø¹ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¨ØµÙŠØºØ© JSON ØµØ­ÙŠØ­Ø© ÙƒØ§Ù„ØªØ§Ù„ÙŠ:
                [
                    {
                        "question": "Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¨ÙˆØ¶ÙˆØ­",
                        "options": ["Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„", "Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ", "Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù„Ø«", "Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø±Ø§Ø¨Ø¹"],
                        "correct": "A"
                    }
                ]
                
                ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© ØªÙƒÙˆÙ† A Ø£Ùˆ B Ø£Ùˆ C Ø£Ùˆ D ÙÙ‚Ø·.`;

                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=AIzaSyDUkgCGXTZE2huQetekVZVxIJP3xK9q7bE`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }]
                    })
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                
                if (!data.candidates || !data.candidates[0] || !data.candidates[0].content) {
                    throw new Error('Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØºÙŠØ± ØµØ­ÙŠØ­Ø© Ù…Ù† Ø§Ù„Ø®Ø¯Ù…Ø©');
                }

                const generatedText = data.candidates[0].content.parts[0].text;
                
                const jsonMatch = generatedText.match(/\[[\s\S]*\]/);
                if (jsonMatch) {
                    const questions = JSON.parse(jsonMatch[0]);
                    
                    const validQuestions = questions.filter(q => 
                        q.question && q.options && q.options.length === 4 && q.correct
                    );

                    if (validQuestions.length === 0) {
                        throw new Error('Ù„Ù… ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø© ØµØ­ÙŠØ­Ø©');
                    }

                    gameState.aiGeneratedQuestions = validQuestions;
                    
                    clearInterval(progressInterval);
                    progressFill.style.width = '100%';
                    progressPercent.textContent = '100%';
                    
                    showAIGeneratedPreview(validQuestions);
                    
                    showNotification(`ØªÙ… ØªÙˆÙ„ÙŠØ¯ ${validQuestions.length} Ø³Ø¤Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰`, 'success');
                } else {
                    throw new Error('ÙØ´Ù„ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©');
                }
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:', error);
                clearInterval(progressInterval);
                showNotification('Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.', 'error');
            } finally {
                button.disabled = false;
                button.innerHTML = '<i class="fas fa-robot"></i> ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ';
                
                setTimeout(() => {
                    progressDiv.classList.add('hidden');
                    progressFill.style.width = '0%';
                    progressPercent.textContent = '0%';
                }, 2000);
            }
        }
        
        // Ø¹Ø±Ø¶ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆÙ„Ø¯Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        function showAIGeneratedPreview(questions) {
            const previewDiv = document.getElementById('aiGeneratedPreview');
            const previewContent = document.getElementById('aiPreviewContent');
            
            let previewHTML = `<div class="space-y-2">`;
            questions.slice(0, 3).forEach((q, index) => {
                previewHTML += `
                    <div class="text-xs">
                        <strong>Ø³${index + 1}:</strong> ${q.question.substring(0, 60)}${q.question.length > 60 ? '...' : ''}
                    </div>
                `;
            });
            
            if (questions.length > 3) {
                previewHTML += `<div class="text-xs text-green-200">... Ùˆ ${questions.length - 3} Ø£Ø³Ø¦Ù„Ø© Ø£Ø®Ø±Ù‰</div>`;
            }
            
            previewHTML += `</div>`;
            previewContent.innerHTML = previewHTML;
            previewDiv.classList.remove('hidden');
        }
        
        // Ø­ÙØ¸ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆÙ„Ø¯Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        function saveAIQuestions() {
            if (gameState.aiGeneratedQuestions.length === 0) {
                showNotification('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù…ÙˆÙ„Ø¯Ø© Ù„Ù„Ø­ÙØ¸', 'error');
                return;
            }

            const existingQuestions = loadSavedQuestions();
            const allQuestions = [...existingQuestions, ...gameState.aiGeneratedQuestions];
            saveQuestions(allQuestions);
            
            gameState.aiQuestions += gameState.aiGeneratedQuestions.length;
            gameState.sessionQuestions += gameState.aiGeneratedQuestions.length;
            
            showNotification('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
            
            // Ù…Ø³Ø­ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©
            gameState.aiGeneratedQuestions = [];
            document.getElementById('aiGeneratedPreview').classList.add('hidden');
        }
        
        // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆÙ„Ø¯Ø© Ù…Ø¨Ø§Ø´Ø±Ø©
        function useAIQuestionsDirectly() {
            if (gameState.aiGeneratedQuestions.length === 0) {
                showNotification('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù…ÙˆÙ„Ø¯Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…', 'error');
                return;
            }

            gameState.questions = gameState.aiGeneratedQuestions;
            showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆÙ„Ø¯Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø¨Ø§Ø´Ø±!', 'success');
            
            // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯
            showSetup();
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
        function showHome() {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª
            document.getElementById('homeScreen').classList.remove('hidden');
            document.getElementById('setupScreen').classList.add('hidden');
            document.getElementById('questionManagerScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('aiGeneratorScreen').classList.add('hidden');
            
            // Ø¥ØºÙ„Ø§Ù‚ Ø£ÙŠ Ù†ÙˆØ§ÙØ° Ù…ÙØªÙˆØ­Ø©
            closeGameInfo();
            if (!document.getElementById('developerMenu').classList.contains('hidden')) {
                toggleDeveloperMenu();
            }
        }

        // Ø¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯
        function showSetup() {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª
            document.getElementById('homeScreen').classList.add('hidden');
            document.getElementById('setupScreen').classList.remove('hidden');
            document.getElementById('questionManagerScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.add('hidden');
            
            updateTeamInputs();
        }

        // Ø¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        function showQuestionManager() {
            document.getElementById('homeScreen').classList.add('hidden');
            document.getElementById('setupScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('questionManagerScreen').classList.remove('hidden');
            
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ÙØ±Ø¹ÙŠØ©
            hideAllSections();
            
            displayQuestions();
            updateQuestionStats();
        }

        // ØªØ­Ø¯ÙŠØ« Ø­Ù‚ÙˆÙ„ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙØ±Ù‚
        function updateTeamInputs() {
            const teamCount = parseInt(document.getElementById('teamCount').value);
            const container = document.getElementById('teamInputs');
            container.innerHTML = '';

            for (let i = 1; i <= teamCount; i++) {
                const div = document.createElement('div');
                div.innerHTML = `
                    <label class="block text-sm font-medium mb-2">Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ ${i}:</label>
                    <input type="text" id="team${i}" placeholder="Ø§Ù„ÙØ±ÙŠÙ‚ ${i}" value="Ø§Ù„ÙØ±ÙŠÙ‚ ${i}" class="w-full p-3 rounded-lg bg-blue-900 border border-blue-700 text-white placeholder-blue-300">
                `;
                container.appendChild(div);
            }
        }

        // ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ
        async function generateQuestions() {
            // ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ Ø£ÙˆÙ„Ø§Ù‹
            if (!gameState.connectionStatus) {
                showNotification('ÙŠØªØ·Ù„Ø¨ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª Ù„ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©', 'error');
                return;
            }

            const topic = document.getElementById('topic').value || 'Ø¹Ø§Ù…';
            const topicSpecifics = document.getElementById('topicSpecifics').value;
            const educationLevel = document.getElementById('educationLevel').value;
            const count = parseInt(document.getElementById('questionCount').value);
            const difficulty = document.getElementById('difficulty').value;
            
            const button = document.getElementById('generateBtn');
            const progressDiv = document.getElementById('generationProgress');
            const progressFill = document.getElementById('progressFill');
            const progressPercent = document.getElementById('progressPercent');
            
            button.disabled = true;
            button.innerHTML = '<div class="loading-spinner"></div> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙˆÙ„ÙŠØ¯...';
            progressDiv.classList.remove('hidden');

            // Ù…Ø­Ø§ÙƒØ§Ø© Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress > 90) progress = 90;
                progressFill.style.width = progress + '%';
                progressPercent.textContent = Math.round(progress) + '%';
            }, 200);

            try {
                // ØªØ­Ø¯ÙŠØ¯ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ¹Ù„ÙŠÙ…
                const levelMap = {
                    'elementary': 'Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ©',
                    'middle': 'Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©', 
                    'high': 'Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©',
                    'university': 'Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„Ø¬Ø§Ù…Ø¹ÙŠØ©'
                };

                // ØªØ­Ø¯ÙŠØ¯ Ù†ÙˆØ¹ Ø§Ù„ØµØ¹ÙˆØ¨Ø©
                const difficultyMap = {
                    'easy': 'Ø³Ù‡Ù„ ÙˆÙ…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†',
                    'medium': 'Ù…ØªÙˆØ³Ø· Ø§Ù„ØµØ¹ÙˆØ¨Ø©',
                    'hard': 'ØµØ¹Ø¨ ÙˆÙ…ØªÙ‚Ø¯Ù…',
                    'mixed': 'Ù…Ø®ØªÙ„Ø· (Ø³Ù‡Ù„ ÙˆÙ…ØªÙˆØ³Ø· ÙˆØµØ¹Ø¨)'
                };

                const prompt = `Ø£Ù†Ø´Ø¦ ${count} Ø£Ø³Ø¦Ù„Ø© Ø§Ø®ØªÙŠØ§Ø± Ù…Ù† Ù…ØªØ¹Ø¯Ø¯ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø­ÙˆÙ„ Ù…ÙˆØ¶ÙˆØ¹ "${topic}" 
                ${topicSpecifics ? `Ù…Ø¹ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰: ${topicSpecifics}` : ''}
                
                Ø§Ù„Ù…ÙˆØ§ØµÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:
                - Ø§Ù„Ù…Ø±Ø­Ù„Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©: ${levelMap[educationLevel]}
                - Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©: ${difficultyMap[difficulty]}
                - ÙƒÙ„ Ø³Ø¤Ø§Ù„ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ 4 Ø®ÙŠØ§Ø±Ø§Øª ÙˆØ§Ø¶Ø­Ø© ÙˆÙ…ØªÙ†ÙˆØ¹Ø©
                - Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙˆÙ‡Ø§Ø¯ÙØ© ÙˆÙ…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø·Ù„Ø§Ø¨
                - ØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙƒØ±Ø±Ø© Ø£Ùˆ Ø§Ù„Ù…ØªØ´Ø§Ø¨Ù‡Ø©
                
                Ø£Ø±Ø¬Ø¹ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¨ØµÙŠØºØ© JSON ØµØ­ÙŠØ­Ø© ÙƒØ§Ù„ØªØ§Ù„ÙŠ:
                [
                    {
                        "question": "Ù†Øµ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¨ÙˆØ¶ÙˆØ­",
                        "options": ["Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø£ÙˆÙ„", "Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù†ÙŠ", "Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø«Ø§Ù„Ø«", "Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ø±Ø§Ø¨Ø¹"],
                        "correct": "A"
                    }
                ]
                
                ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© ØªÙƒÙˆÙ† A Ø£Ùˆ B Ø£Ùˆ C Ø£Ùˆ D ÙÙ‚Ø·.`;

                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=AIzaSyDUkgCGXTZE2huQetekVZVxIJP3xK9q7bE`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }]
                    })
                });

                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const data = await response.json();
                
                if (!data.candidates || !data.candidates[0] || !data.candidates[0].content) {
                    throw new Error('Ø§Ø³ØªØ¬Ø§Ø¨Ø© ØºÙŠØ± ØµØ­ÙŠØ­Ø© Ù…Ù† Ø§Ù„Ø®Ø¯Ù…Ø©');
                }

                const generatedText = data.candidates[0].content.parts[0].text;
                
                // Ø§Ø³ØªØ®Ø±Ø§Ø¬ JSON Ù…Ù† Ø§Ù„Ù†Øµ
                const jsonMatch = generatedText.match(/\[[\s\S]*\]/);
                if (jsonMatch) {
                    const questions = JSON.parse(jsonMatch[0]);
                    
                    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
                    const validQuestions = questions.filter(q => 
                        q.question && q.options && q.options.length === 4 && q.correct
                    );

                    if (validQuestions.length === 0) {
                        throw new Error('Ù„Ù… ÙŠØªÙ… ØªÙˆÙ„ÙŠØ¯ Ø£Ø³Ø¦Ù„Ø© ØµØ­ÙŠØ­Ø©');
                    }

                    gameState.questions = validQuestions;
                    
                    // Ø­ÙØ¸ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
                    const existingQuestions = loadSavedQuestions();
                    const allQuestions = [...existingQuestions, ...validQuestions];
                    saveQuestions(allQuestions);
                    
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                    gameState.aiQuestions += validQuestions.length;
                    gameState.sessionQuestions += validQuestions.length;
                    
                    // Ø¥ÙƒÙ…Ø§Ù„ Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
                    clearInterval(progressInterval);
                    progressFill.style.width = '100%';
                    progressPercent.textContent = '100%';
                    
                    // Ø¹Ø±Ø¶ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
                    showGeneratedPreview(validQuestions);
                    
                    // ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
                    displayQuestions();
                    
                    showNotification(`ØªÙ… ØªÙˆÙ„ÙŠØ¯ ${validQuestions.length} Ø³Ø¤Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­! ğŸ‰`, 'success');
                } else {
                    throw new Error('ÙØ´Ù„ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©');
                }
            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:', error);
                clearInterval(progressInterval);
                
                let errorMessage = 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªÙˆÙ„ÙŠØ¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©. ';
                if (!gameState.connectionStatus) {
                    errorMessage += 'ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª.';
                } else if (error.message.includes('HTTP error')) {
                    errorMessage += 'Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø®Ø¯Ù…Ø©ØŒ Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.';
                } else {
                    errorMessage += 'Ø³ÙŠØªÙ… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©.';
                    gameState.questions = defaultQuestions.slice(0, count);
                }
                
                showNotification(errorMessage, 'error');
            } finally {
                button.disabled = false;
                button.innerHTML = '<i class="fas fa-robot"></i> ØªÙˆÙ„ÙŠØ¯ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ';
                
                setTimeout(() => {
                    progressDiv.classList.add('hidden');
                    progressFill.style.width = '0%';
                    progressPercent.textContent = '0%';
                }, 2000);
            }
        }

        // Ø¹Ø±Ø¶ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…ÙˆÙ„Ø¯Ø©
        function showGeneratedPreview(questions) {
            const previewDiv = document.getElementById('generatedPreview');
            const previewContent = document.getElementById('previewContent');
            
            let previewHTML = `<div class="space-y-2">`;
            questions.slice(0, 3).forEach((q, index) => {
                previewHTML += `
                    <div class="text-xs">
                        <strong>Ø³${index + 1}:</strong> ${q.question.substring(0, 60)}${q.question.length > 60 ? '...' : ''}
                    </div>
                `;
            });
            
            if (questions.length > 3) {
                previewHTML += `<div class="text-xs text-green-200">... Ùˆ ${questions.length - 3} Ø£Ø³Ø¦Ù„Ø© Ø£Ø®Ø±Ù‰</div>`;
            }
            
            previewHTML += `</div>`;
            previewContent.innerHTML = previewHTML;
            previewDiv.classList.remove('hidden');
        }

        // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ÙŠØ¯ÙˆÙŠØ©
        function useManualQuestions() {
            const count = parseInt(document.getElementById('questionCount').value);
            const savedQuestions = loadSavedQuestions();
            
            if (savedQuestions.length === 0) {
                showNotification('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù…Ø­ÙÙˆØ¸Ø©! ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ø£Ø³Ø¦Ù„Ø© Ø£ÙˆÙ„Ø§Ù‹', 'error');
                return;
            }
            
            gameState.questions = savedQuestions.slice(0, count);
            showNotification(`ØªÙ… ØªØ­Ø¯ÙŠØ¯ ${gameState.questions.length} Ø³Ø¤Ø§Ù„ Ù…Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©! ğŸ“`, 'success');
        }

        // Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯
        function addQuestion() {
            const question = document.getElementById('newQuestion').value.trim();
            const optionA = document.getElementById('optionA').value.trim();
            const optionB = document.getElementById('optionB').value.trim();
            const optionC = document.getElementById('optionC').value.trim();
            const optionD = document.getElementById('optionD').value.trim();
            const correct = document.getElementById('correctAnswer').value;

            if (!question || !optionA || !optionB || !optionC || !optionD) {
                showNotification('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„!', 'error');
                return;
            }

            const newQuestion = {
                question: question,
                options: [optionA, optionB, optionC, optionD],
                correct: correct
            };

            const existingQuestions = loadSavedQuestions();
            existingQuestions.push(newQuestion);
            saveQuestions(existingQuestions);

            gameState.sessionQuestions++;

            // Ù…Ø³Ø­ Ø§Ù„Ø­Ù‚ÙˆÙ„
            document.getElementById('newQuestion').value = '';
            document.getElementById('optionA').value = '';
            document.getElementById('optionB').value = '';
            document.getElementById('optionC').value = '';
            document.getElementById('optionD').value = '';

            displayQuestions();
            showNotification('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­! âœ…', 'success');
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
        function displayQuestions() {
            const questions = loadSavedQuestions();
            const container = document.getElementById('questionsList');
            const noQuestionsMsg = document.getElementById('noQuestionsMessage');
            
            container.innerHTML = '';

            if (questions.length === 0) {
                noQuestionsMsg.classList.remove('hidden');
                return;
            }

            noQuestionsMsg.classList.add('hidden');

            questions.forEach((q, index) => {
                const div = document.createElement('div');
                div.className = 'bg-blue-800/50 backdrop-blur-sm p-4 rounded-lg border border-blue-600 hover:border-blue-400 transition-all duration-300';
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-bold text-sm flex items-center">
                            <i class="fas fa-question-circle text-yellow-400 mr-2"></i>
                            Ø§Ù„Ø³Ø¤Ø§Ù„ ${index + 1}
                        </h4>
                        <button onclick="deleteQuestion(${index})" class="text-red-400 hover:text-red-300 text-sm transition-all duration-300 transform hover:scale-110">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    </div>
                    <p class="text-sm mb-3 text-gray-100">${q.question}</p>
                    <div class="text-xs text-blue-200 space-y-1">
                        <div class="flex items-center">
                            <i class="fas fa-circle text-red-400 text-xs mr-2"></i>
                            <span>Ø£: ${q.options[0]}</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-circle text-yellow-400 text-xs mr-2"></i>
                            <span>Ø¨: ${q.options[1]}</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-circle text-green-400 text-xs mr-2"></i>
                            <span>Ø¬: ${q.options[2]}</span>
                        </div>
                        <div class="flex items-center">
                            <i class="fas fa-circle text-purple-400 text-xs mr-2"></i>
                            <span>Ø¯: ${q.options[3]}</span>
                        </div>
                        <div class="text-green-300 font-bold mt-2 flex items-center">
                            <i class="fas fa-check-circle mr-2"></i>
                            Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: ${q.correct}
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });

            updateQuestionStats();
        }

        // Ø­Ø°Ù Ø³Ø¤Ø§Ù„
        function deleteQuestion(index) {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ØŸ')) {
                const questions = loadSavedQuestions();
                questions.splice(index, 1);
                saveQuestions(questions);
                displayQuestions();
                showNotification('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø³Ø¤Ø§Ù„', 'info');
            }
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function startGame() {
            const teamCount = parseInt(document.getElementById('teamCount').value);
            gameState.teams = [];
            gameState.scores = {};

            // Ø¬Ù…Ø¹ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ÙØ±Ù‚
            for (let i = 1; i <= teamCount; i++) {
                const teamName = document.getElementById(`team${i}`).value || `Ø§Ù„ÙØ±ÙŠÙ‚ ${i}`;
                gameState.teams.push(teamName);
                gameState.scores[teamName] = 0;
            }

            // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ø£Ø³Ø¦Ù„Ø©
            if (!gameState.questions || gameState.questions.length === 0) {
                const count = parseInt(document.getElementById('questionCount').value);
                const savedQuestions = loadSavedQuestions();
                
                if (savedQuestions.length === 0) {
                    showNotification('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù…Ø­ÙÙˆØ¸Ø©! ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ø£Ø³Ø¦Ù„Ø© Ø£ÙˆÙ„Ø§Ù‹ Ø£Ùˆ ØªÙˆÙ„ÙŠØ¯Ù‡Ø§ Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ', 'error');
                    return;
                }
                
                gameState.questions = savedQuestions.slice(0, count);
            }

            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªÙˆÙ‚ÙŠØª
            gameState.questionTimeLimit = parseInt(document.getElementById('questionTimer').value);

            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù„Ø¹Ø¨Ø©
            gameState.currentQuestionIndex = 0;
            gameState.currentTeamIndex = 0;
            gameState.selectedAnswer = null;
            gameState.gameStarted = true;

            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª ÙˆØ¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
            document.getElementById('homeScreen').classList.add('hidden');
            document.getElementById('setupScreen').classList.add('hidden');
            document.getElementById('questionManagerScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('aiGeneratorScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.remove('hidden');

            // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
            updateGameUI();
            displayCurrentQuestion();
            
            showNotification('Ø¨Ø¯Ø£Øª Ø§Ù„Ù„Ø¹Ø¨Ø©! Ø­Ø¸Ø§Ù‹ Ù…ÙˆÙÙ‚Ø§Ù‹ Ù„Ù„Ø¬Ù…ÙŠØ¹! ğŸ®', 'success');
        }

        // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
        function updateGameUI() {
            // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ
            document.getElementById('currentQuestionNumber').textContent = gameState.currentQuestionIndex + 1;
            document.getElementById('totalQuestions').textContent = gameState.questions.length;
            document.getElementById('currentTeamName').textContent = gameState.teams[gameState.currentTeamIndex];

            // ØªØ­Ø¯ÙŠØ« Ø³Ù„Ù… Ø§Ù„Ø£Ù…ÙˆØ§Ù„
            const moneyContainer = document.getElementById('moneyLadder');
            moneyContainer.innerHTML = '';
            
            for (let i = moneyLadder.length - 1; i >= 0; i--) {
                const div = document.createElement('div');
                div.className = `p-2 rounded text-center text-sm font-bold ${
                    i === gameState.currentQuestionIndex ? 'bg-yellow-500 text-black' : 
                    i < gameState.currentQuestionIndex ? 'bg-green-600' : 'bg-blue-800'
                }`;
                div.textContent = moneyLadder[i];
                moneyContainer.appendChild(div);
            }

            // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙØ±Ù‚
            const teamsContainer = document.getElementById('teamsInfo');
            teamsContainer.innerHTML = '';
            
            gameState.teams.forEach((team, index) => {
                const div = document.createElement('div');
                div.className = `team-card p-3 rounded-lg ${
                    index === gameState.currentTeamIndex ? 'active-team' : ''
                }`;
                div.innerHTML = `
                    <div class="font-bold">${team}</div>
                    <div class="text-sm text-yellow-300">${gameState.scores[team]} Ù†Ù‚Ø·Ø©</div>
                `;
                teamsContainer.appendChild(div);
            });
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø­Ø§Ù„ÙŠ
        function displayCurrentQuestion() {
            if (gameState.currentQuestionIndex >= gameState.questions.length) {
                endGame();
                return;
            }

            const question = gameState.questions[gameState.currentQuestionIndex];
            
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('optionAText').textContent = question.options[0];
            document.getElementById('optionBText').textContent = question.options[1];
            document.getElementById('optionCText').textContent = question.options[2];
            document.getElementById('optionDText').textContent = question.options[3];

            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            ['A', 'B', 'C', 'D'].forEach(option => {
                const btn = document.getElementById(`option${option}`);
                btn.className = 'option-btn p-4 rounded-xl text-lg font-bold text-right border-2 border-yellow-400';
                btn.disabled = false;
            });

            document.getElementById('finalAnswerBtn').classList.add('hidden');
            gameState.selectedAnswer = null;
            
            // Ø¨Ø¯Ø¡ Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²Ù…Ù†ÙŠ
            startTimer();
        }

        // Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø©
        function selectAnswer(option) {
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø³Ø§Ø¨Ù‚
            ['A', 'B', 'C', 'D'].forEach(opt => {
                const btn = document.getElementById(`option${opt}`);
                btn.classList.remove('ring-4', 'ring-yellow-300');
            });

            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
            const selectedBtn = document.getElementById(`option${option}`);
            selectedBtn.classList.add('ring-4', 'ring-yellow-300');
            
            gameState.selectedAnswer = option;
            document.getElementById('finalAnswerBtn').classList.remove('hidden');
        }

        // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
        function confirmAnswer() {
            if (!gameState.selectedAnswer) return;

            // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²Ù…Ù†ÙŠ
            stopTimer();

            const question = gameState.questions[gameState.currentQuestionIndex];
            const isCorrect = gameState.selectedAnswer === question.correct;
            const currentTeam = gameState.teams[gameState.currentTeamIndex];

            // ØªØ¹Ø·ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            ['A', 'B', 'C', 'D'].forEach(option => {
                document.getElementById(`option${option}`).disabled = true;
            });

            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© ÙˆØ§Ù„Ø®Ø§Ø·Ø¦Ø©
            const correctBtn = document.getElementById(`option${question.correct}`);
            correctBtn.classList.add('correct-answer');

            if (!isCorrect) {
                const selectedBtn = document.getElementById(`option${gameState.selectedAnswer}`);
                selectedBtn.classList.add('wrong-answer');
            }

            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª
            if (isCorrect) {
                gameState.scores[currentTeam] += 10;
                createCelebrationEffect();
                showNotification(`ğŸ‰ Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ø­ØµÙ„ ${currentTeam} Ø¹Ù„Ù‰ 10 Ù†Ù‚Ø§Ø·`, 'success');
                setTimeout(() => {
                    nextQuestion();
                }, 3000);
            } else {
                createWrongAnswerEffect();
                showNotification(`âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ: ${question.correct}`, 'error');
                setTimeout(() => {
                    nextQuestion();
                }, 3000);
            }

            document.getElementById('finalAnswerBtn').classList.add('hidden');
        }

        // Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
        function nextQuestion() {
            // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø²Ù…Ù†ÙŠ
            stopTimer();
            
            gameState.currentQuestionIndex++;
            gameState.currentTeamIndex = (gameState.currentTeamIndex + 1) % gameState.teams.length;
            
            updateGameUI();
            
            if (gameState.currentQuestionIndex < gameState.questions.length) {
                setTimeout(() => {
                    displayCurrentQuestion();
                }, 1000);
            } else {
                setTimeout(() => {
                    endGame();
                }, 1000);
            }
        }

        // Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ø¤Ù‚ØªØ§Ù‹
        function pauseGame() {
            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ø¤Ù‚ØªØ§Ù‹ØŸ')) {
                alert('ØªÙ… Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ø¤Ù‚ØªØ§Ù‹. Ø§Ø¶ØºØ· Ù…ÙˆØ§ÙÙ‚ Ù„Ù„Ù…ØªØ§Ø¨Ø¹Ø©.');
            }
        }

        // Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
        function endGame() {
            // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª ÙˆØ¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            document.getElementById('homeScreen').classList.add('hidden');
            document.getElementById('setupScreen').classList.add('hidden');
            document.getElementById('questionManagerScreen').classList.add('hidden');
            document.getElementById('gameScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');
            
            // ØªØ±ØªÙŠØ¨ Ø§Ù„ÙØ±Ù‚ Ø­Ø³Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
            const sortedTeams = [...gameState.teams].sort((a, b) => gameState.scores[b] - gameState.scores[a]);
            
            const resultsContainer = document.getElementById('finalResults');
            resultsContainer.innerHTML = '';
            
            sortedTeams.forEach((team, index) => {
                const div = document.createElement('div');
                div.className = `p-6 rounded-xl text-center transition-all duration-300 transform hover:scale-105 ${
                    index === 0 ? 'bg-gradient-to-r from-yellow-400 to-yellow-600 text-black' : 
                    index === 1 ? 'bg-gradient-to-r from-gray-400 to-gray-500 text-black' : 
                    index === 2 ? 'bg-gradient-to-r from-yellow-600 to-yellow-700 text-black' : 'bg-gradient-to-r from-blue-500 to-blue-600 text-white'
                }`;
                
                const medal = index === 0 ? 'ğŸ¥‡' : index === 1 ? 'ğŸ¥ˆ' : index === 2 ? 'ğŸ¥‰' : 'ğŸ…';
                
                div.innerHTML = `
                    <div class="text-4xl mb-2">${medal}</div>
                    <div class="text-2xl font-bold">${team}</div>
                    <div class="text-xl">${gameState.scores[team]} Ù†Ù‚Ø·Ø©</div>
                    <div class="text-lg">${index === 0 ? 'Ø§Ù„ÙØ§Ø¦Ø²!' : `Ø§Ù„Ù…Ø±ÙƒØ² ${index + 1}`}</div>
                `;
                resultsContainer.appendChild(div);
            });
            
            showNotification('Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø©! ØªÙ‡Ø§Ù†ÙŠÙ†Ø§ Ù„Ù„ÙØ§Ø¦Ø²ÙŠÙ†! ğŸ‰', 'success');
        }

        // Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
        function playAgain() {
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø­Ø§Ù„Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©
            gameState.teams = [];
            gameState.questions = [];
            gameState.currentQuestionIndex = 0;
            gameState.currentTeamIndex = 0;
            gameState.selectedAnswer = null;
            gameState.gameStarted = false;
            gameState.scores = {};
            
            showSetup();
        }

        // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø©
        function toggleDeveloperMenu() {
            const menu = document.getElementById('developerMenu');
            const isHidden = menu.classList.contains('hidden');
            
            if (isHidden) {
                menu.classList.remove('hidden');
                setTimeout(() => {
                    menu.classList.remove('scale-95', 'opacity-0');
                    menu.classList.add('scale-100', 'opacity-100');
                }, 10);
            } else {
                menu.classList.add('scale-95', 'opacity-0');
                menu.classList.remove('scale-100', 'opacity-100');
                setTimeout(() => {
                    menu.classList.add('hidden');
                }, 300);
            }
        }

        function showGameInfo() {
            document.getElementById('gameInfoModal').classList.remove('hidden');
            // Ø¥ØºÙ„Ø§Ù‚ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø·ÙˆØ± Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙØªÙˆØ­Ø©
            const menu = document.getElementById('developerMenu');
            if (!menu.classList.contains('hidden')) {
                toggleDeveloperMenu();
            }
        }

        function closeGameInfo() {
            document.getElementById('gameInfoModal').classList.add('hidden');
        }

        // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù†ÙˆØ§ÙØ° Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø®Ø§Ø±Ø¬Ù‡Ø§
        document.addEventListener('click', function(event) {
            const developerMenu = document.getElementById('developerMenu');
            const gameInfoModal = document.getElementById('gameInfoModal');
            
            // Ø¥ØºÙ„Ø§Ù‚ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø·ÙˆØ±
            if (!developerMenu.contains(event.target) && 
                !event.target.closest('button[onclick="toggleDeveloperMenu()"]')) {
                if (!developerMenu.classList.contains('hidden')) {
                    toggleDeveloperMenu();
                }
            }
            
            // Ø¥ØºÙ„Ø§Ù‚ Ù†Ø§ÙØ°Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
            if (event.target === gameInfoModal) {
                closeGameInfo();
            }
        });

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        document.addEventListener('DOMContentLoaded', function() {
            updateTeamInputs();
            displayQuestions();
            createParticles();
            updateQuestionStats();
            
            // ÙØ­Øµ Ø§Ù„Ø§ØªØµØ§Ù„ ÙƒÙ„ 5 Ø«ÙˆØ§Ù†Ù
            setInterval(checkConnection, 5000);
            checkConnection(); // ÙØ­Øµ Ø£ÙˆÙ„ÙŠ
            
            // Ù…Ø±Ø§Ù‚Ø¨Ø© ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
            window.addEventListener('online', () => {
                gameState.connectionStatus = true;
                checkConnection();
            });
            
            window.addEventListener('offline', () => {
                gameState.connectionStatus = false;
                checkConnection();
            });
            
            // Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨
            setTimeout(() => {
                showNotification('Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù„Ø¹Ø¨Ø© Ù…Ù† Ø³ÙŠØ±Ø¨Ø­ Ø§Ù„Ù…Ù„ÙŠÙˆÙ† Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ù…Ø·ÙˆØ±Ø©! ğŸ“âœ¨', 'info', 4000);
            }, 1000);
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'96e92b23754c5ccf',t:'MTc1NTA5ODEzMy4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
